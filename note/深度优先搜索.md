# 深度优先搜索

# 1. 含义

[深度优先搜索（DFS）](https://zh.wikipedia.org/wiki/%E6%B7%B1%E5%BA%A6%E4%BC%98%E5%85%88%E6%90%9C%E7%B4%A2 )，是图搜索算法的一种。它沿着树（图）的深度遍历树的节点，尽可能深的搜索树（图）的分支。

![DFS](https://xoyolucas.github.io/2019/11/05/%E5%B9%BF%E5%BA%A6%E4%BC%98%E5%85%88%E6%90%9C%E7%B4%A2%E5%92%8C%E6%B7%B1%E5%BA%A6%E4%BC%98%E5%85%88%E6%90%9C%E7%B4%A2/DFS.JPG)

# 2. 搜索结点过程

- 和广度优先搜索一样，在概念上将每个结点涂成「白色」，「灰色」，「黑色」。
- 开始时所有结点是「白色」，待访问的结点是「灰色」，访问过的结点是「黑色」。
- 深度优先搜索算法还给每个结点盖上一个时间戳，每个结点 v 有两个时间戳。
- v.d 记录第一次发现的时间，v.f 记录搜索完成对 v 的邻接链表扫描的时间。

# 3. 伪代码实现

```c
for (u in G.V) {
  u.color = WHITE
  u.PI = null
} 

time = 0
```

```c
for (u in G.V) {
  if (u.color == WHITE) {
    def_visit(G, u)
  }
}
```

```c
dfs_visit(G, u) {
  time = time + 1
  u.d = time
  u.color = GRAY

  for (v in Adj[u]) {
    if (v.color == WHITE) {
      v.PI = u
      dfs_visit(G, v)
    }
  }

  u.color = BLACK
  time = time + 1
  u.f = time
}
```

# 4. JavaScript

```js
const dfs = function(node) {
  let nodes = [];
  if (node) {
    let stack = [];
    stack.push(node);
    while (stack.length) {
      let item = stack.pop();
      nodes.push(item);
      let children = item.children;
      for (let i = children.length - 1; i >= 0; i--) {
        stack.push(children[i]);
      }
    } 
  }
}
```
